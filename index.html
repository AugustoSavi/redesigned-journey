<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Casamento Augusto & Carolini</title>
    <link rel="apple-touch-icon" sizes="180x180" href="public/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="public/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="public/favicon-16x16.png">
    <link rel="manifest" href="public/site.webmanifest">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Icons (Lucide) -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&family=Great+Vibes&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

    <!-- Configura√ß√£o do Tema -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              serif: ['"Cormorant Garamond"', 'serif'],
              script: ['"Great Vibes"', 'cursive'],
              sans: ['"Montserrat"', 'sans-serif'],
              roboto: ['"Roboto"', 'sans-serif'],
            },
            colors: {
            // Paleta Midnight Blue (Base elegante e profunda)
                rustic: {
                    50:  '#f2f4f8', // Azul acinzentado muito claro
                    100: '#e1e6ef', // Azul n√©voa
                    200: '#c3cde0', // Azul a√ßo claro
                    300: '#9aa9c6', // Azul frio m√©dio
                    400: '#6f85aa', // Azul denim
                    500: '#2c3e50', // Midnight Blue principal
                    600: '#243447', // Midnight profundo
                    700: '#1c2938', // Azul noite
                    800: '#141e2a', // Azul quase preto
                    900: '#0d141f', // Preto azulado
                },

                // Paleta Marsala (Acento quente e sofisticado)
                sage: {
                    50:  '#faf4f5', // Rosado muito claro
                    100: '#f1dfe2', // Nude ros√©
                    200: '#e0b9c0', // Marsala claro
                    300: '#c98b95', // Vinho suave
                    400: '#b06572', // Marsala m√©dio
                    500: '#7b2d3a', // Marsala principal
                    600: '#67262f', // Marsala profundo
                    700: '#531e26', // Vinho escuro
                }
            },

            animation: {
              'fade-in': 'fadeIn 1.5s ease-out',
            },
            keyframes: {
              fadeIn: {
                '0%': { opacity: '0', transform: 'translateY(10px)' },
                '100%': { opacity: '1', transform: 'translateY(0)' },
              }
            }
          }
        }
      }
    </script>
    <style>
        /* Ajustes finos de scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f0ece3;
        }
        ::-webkit-scrollbar-thumb {
            background: #a89076;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #8c735a;
        }
        .hidden-section {
            display: none;
        }
        /* Efeito de filtro vintage nas imagens */
        .img-vintage {
            filter: sepia(10%) contrast(95%);
            transition: filter 0.5s ease, transform 0.7s ease;
        }
        .img-vintage:hover {
            filter: sepia(0%) contrast(105%);
            transform: scale(1.05);
        }
    </style>
</head>
<body class="bg-rustic-50 text-rustic-900 font-sans antialiased selection:bg-rustic-200 selection:text-rustic-800">

    <!-- NAVBAR -->
    <nav class="sticky top-0 z-40 bg-rustic-50/95 backdrop-blur-md shadow-sm border-b border-rustic-200">
        <div class="max-w-6xl mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-center md:justify-between items-center h-auto md:h-24 py-4 md:py-0 gap-4 md:gap-0">
                <div onclick="switchTab('home')" class="roboto text-2xl font-medium text-rustic-800 cursor-pointer hover:text-sage-600 transition-colors">
                    A | C
                </div>

                <div class="flex flex-wrap justify-center gap-3">
                    <button onclick="switchTab('home')" id="btn-home" class="nav-btn flex items-center gap-2 px-4 md:px-6 py-2 rounded-md transition-all duration-500 border bg-sage-600 text-white font-medium border-sage-600 shadow-sm">
                        <i data-lucide="heart" class="w-4 h-4 fill-current"></i>
                        <span class="uppercase tracking-widest text-xs md:text-sm font-sans">O Casamento</span>
                    </button>

                    <button onclick="switchTab('rsvp')" id="btn-rsvp" class="nav-btn flex items-center gap-2 px-4 md:px-6 py-2 rounded-md transition-all duration-500 border text-rustic-600 border-transparent hover:text-sage-700 hover:bg-rustic-100">
                        <i data-lucide="mail" class="w-4 h-4"></i>
                        <span class="uppercase tracking-widest text-xs md:text-sm font-sans">Confirmar presen√ßa</span>
                    </button>

                    <button onclick="switchTab('locations')" class="nav-btn flex items-center gap-2 px-4 md:px-6 py-2 rounded-md transition-all duration-500 border text-rustic-600 border-transparent hover:text-sage-700 hover:bg-rustic-100">
                        <i data-lucide="map-pinned" class="w-4 h-4"></i>
                        <span class="uppercase tracking-widest text-xs md:text-sm font-sans">Localiza√ß√µes</span>
                    </button>

                    <button onclick="switchTab('gifts')" id="btn-gifts" class="nav-btn flex items-center gap-2 px-4 md:px-6 py-2 rounded-md transition-all duration-500 border text-rustic-600 border-transparent hover:text-sage-700 hover:bg-rustic-100">
                        <i data-lucide="gift" class="w-4 h-4"></i>
                        <span class="uppercase tracking-widest text-xs md:text-sm font-sans">Presentes</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- MAIN CONTENT -->
    <main class="w-full">
        
        <!-- SE√á√ÉO HOME -->
        <section id="tab-home" class="animate-fade-in pb-0">
            <!-- Hero Section -->
            <div class="relative h-[85vh] w-full overflow-hidden">
                <div class="absolute inset-0 bg-cover bg-center bg-no-repeat transform hover:scale-105 transition-transform duration-[40s]"
                     style="background-image: url('public/6.jpg')">
                </div>
                <div class="absolute inset-0 bg-black/20 flex flex-col items-center justify-center text-white text-center p-4">
                    <div class="animate-fade-in p-10 md:p-16 rounded-sm  max-w-3xl">
                        <p class="font-sans tracking-[0.4em] uppercase text-xs md:text-sm mb-6 text-rustic-100 font-bold border-b border-white/30 pb-4 inline-block">Vamos nos casar</p>
                        <h1 class="font-script text-6xl md:text-8xl lg:text-9xl mb-8 text-white drop-shadow-md">Augusto & Carolini</h1>
                        <div class="font-sans flex flex-col md:flex-row items-center justify-center gap-4 md:gap-8 text-xs md:text-2xl italic text-rustic-100 font-bold">
                            <span class="drop-shadow-sm tracking-wide">25 de Julho de 2026</span>
                            <span class="hidden md:block w-px h-8 bg-white/50"></span>
                            <span class="drop-shadow-sm">10:30</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Message Section -->
            <div class="bg-rustic-50 relative">
                <div class="max-w-4xl mx-auto px-6 py-24 text-center">
                    <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-sage-100 mb-8">
                        <i data-lucide="leaf" class="w-8 h-8 text-sage-600"></i>
                    </div>
                    <h2 class="font-serif text-4xl md:text-5xl text-rustic-800 mb-8 italic">Sejam Bem-vindos</h2>
                    <div class="w-20 h-1 bg-sage-400 mx-auto mb-8"></div>
                    <p class="font-serif text-xl text-rustic-600 leading-relaxed max-w-2xl mx-auto">
                        "Onde quer que voc√™ v√°, v√° com todo o seu cora√ß√£o." <br/>
                        <span class="text-base font-sans text-rustic-500 mt-4 block">
                            Estamos felizes em compartilhar nosso dia especial com voc√™s.
                        </span>
                    </p>
                </div>
            </div>

            <!-- Couple Gallery -->
            <div class="bg-white py-24 px-4 md:px-8 border-y border-rustic-200">
                <div class="max-w-6xl mx-auto">
                    <div class="text-center mb-16">
                        <div class="inline-block p-4 rounded-full border border-rustic-200 bg-rustic-50 mb-6">
                            <i data-lucide="camera" class="w-6 h-6 text-sage-600"></i>
                        </div>
                        <h2 class="font-serif text-4xl md:text-5xl text-rustic-800 mb-4 italic">Nossos Momentos</h2>
                        <p class="text-rustic-500 font-sans max-w-xl mx-auto tracking-wide">
                            RETRATOS DE UMA HIST√ìRIA DE AMOR
                        </p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4
            auto-rows-[75vh] md:auto-rows-fr
            p-4 bg-rustic-50 rounded-sm">
                        <!-- Foto 1 -->
                        <div class="relative overflow-hidden rounded-sm shadow-sm
            aspect-[9/16] md:aspect-auto">
                            <img src="public/1.jpg" class="w-full h-full object-cover img-vintage" alt="Casal">
                            <div class="absolute inset-0 bg-rustic-900/40 opacity-0 group-hover:opacity-100 transition-opacity duration-500 flex items-center justify-center">
                                <div class="border border-white/50 p-4 bg-black/20 backdrop-blur-sm">
                                    <p class="text-white font-serif italic text-lg flex items-center gap-2"><i data-lucide="heart" class="w-4 h-4 text-white fill-white"></i> Nossos melhores dias</p>
                                </div>
                            </div>
                        </div>

                        <!-- Foto 2 -->
                        <div class="relative overflow-hidden rounded-sm shadow-sm
            aspect-[9/16] md:aspect-auto">
                            <img src="public/2.JPG" class="w-full h-full object-cover img-vintage" alt="Abra√ßo">
                        </div>

                         <!-- Foto 3 -->
                         <div class="relative overflow-hidden rounded-sm shadow-sm
            aspect-[9/16] md:aspect-auto">
                            <img src="public/3.jpg" class="w-full h-full object-cover img-vintage" alt="Celebra√ß√£o">
                        </div>

                        <!-- Foto 4 -->
                        <div class="relative overflow-hidden rounded-sm shadow-sm
            aspect-[9/16] md:aspect-auto">
                            <img src="public/4.jpg" class="w-full h-full object-cover img-vintage" alt="Selfie">
                        </div>
                         <!-- Foto 5 -->
                         <div class="relative overflow-hidden rounded-sm shadow-sm
            aspect-[9/16] md:aspect-auto">
                            <img src="public/5.jpg" class="w-full h-full object-cover img-vintage" alt="Sorrisos">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Location Section -->
            <div id="locations" class="bg-rustic-100 py-24 px-6 relative overflow-hidden">
                <div class="absolute top-0 right-0 w-64 h-64 bg-sage-100 rounded-full opacity-30 blur-3xl translate-x-1/2 -translate-y-1/2"></div>
                <div class="absolute bottom-0 left-0 w-64 h-64 bg-rustic-300 rounded-full opacity-20 blur-3xl -translate-x-1/2 translate-y-1/2"></div>

                <!-- cerimonia -->
                <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-16 items-center relative z-10">
                    <div class="space-y-10">
                        <div class="space-y-4">
                            <h3 class="font-serif text-4xl text-rustic-800 flex items-center gap-4">
                                <span class="p-3 bg-sage-600 rounded-full text-white shadow-lg">
                                    <i data-lucide="map-pin" class="w-6 h-6"></i>
                                </span>
                                Cerim√¥nia
                            </h3>
                            <p class="text-rustic-500 font-sans uppercase tracking-widest text-sm pl-2">Cen√°rio da nossa uni√£o</p>
                        </div>
                        
                        <div class="bg-white p-8 rounded-sm shadow-sm border-l-4 border-sage-500 space-y-6">
                            <div>
                                <p class="font-serif text-2xl text-rustic-800 mb-2">Capela de Santo Ant√¥nio</p>
                                <p class="text-rustic-600">Avenida principal - Bairro Rio Caet√©, Urussanga - SC</p>
                            </div>
                            
                            <div class="flex items-center gap-4 pt-6 border-t border-rustic-100">
                                <i data-lucide="calendar" class="w-5 h-5 text-sage-600"></i>
                                <p class="text-rustic-700 font-medium">
                                    25 de Julho de 2026 √†s 10:30
                                </p>
                            </div> 
                        </div>
                    </div>
                    
                    <div class="w-full h-[500px] rounded-sm shadow-2xl p-2 bg-white transform rotate-1 hover:rotate-0 transition-all duration-500">
                        <div class="w-full h-full border border-rustic-200">
                            <iframe 
                                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d28036.927934271607!2d-49.38435665251838!3d-28.55125989943651!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x952175fa61bd17c1%3A0x67c64d9ef30510af!2sCapela%20de%20Santo%20Ant%C3%B4nio!5e0!3m2!1spt-BR!2sbr!4v1766019959025!5m2!1spt-BR!2sbr" 
                                width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" 
                                referrerpolicy="no-referrer-when-downgrade"
                                class="filter grayscale-[20%] sepia-[10%]">
                            </iframe>
                        </div>
                    </div>
                </div>
                <br/><br/>
                <div>
                    <hr class="border-rustic-400 my-16">
                </div>
                <!-- recep√ß√£o -->
                <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-16 items-center relative z-10">
                    <div class="space-y-10">
                        <div class="space-y-4">
                            <h3 class="font-serif text-4xl text-rustic-800 flex items-center gap-4">
                                <span class="p-3 bg-sage-600 rounded-full text-white shadow-lg">
                                    <i data-lucide="map-pin" class="w-6 h-6"></i>
                                </span>
                                Recep√ß√£o
                            </h3>
                            <p class="text-rustic-500 font-sans uppercase tracking-widest text-sm pl-2">Onde a magia acontece</p>
                        </div>
                        
                        <div class="bg-white p-8 rounded-sm shadow-sm border-l-4 border-sage-500 space-y-6">
                            <div>
                                <p class="font-serif text-2xl text-rustic-800 mb-2">Restaurante Pirago</p>
                                <p class="text-rustic-600">Estrada geral Giovanni Baldessa, km 2.5, a/n - Pirago, Urussanga - SC, 88840-000</p>
                            </div>
                            
                            <div class="flex items-center gap-4 pt-6 border-t border-rustic-100">
                                <i data-lucide="calendar" class="w-5 h-5 text-sage-600"></i>
                                <p class="text-rustic-700 font-medium">
                                    25 de Julho de 2026 √†s 12:30
                                </p>
                            </div>
                        </div>
                        
                        <!-- <div class="flex items-center gap-3 text-rustic-600 italic">
                            <span class="w-8 h-px bg-rustic-400"></span>
                            Traje Sugerido: Passeio Completo
                        </div> -->
                    </div>
                    
                    <div class="w-full h-[500px] rounded-sm shadow-2xl p-2 bg-white transform rotate-1 hover:rotate-0 transition-all duration-500">
                        <div class="w-full h-full border border-rustic-200">
                            <iframe 
                                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3505.244160608355!2d-49.3412264!3d-28.53238!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x952175bf1f51494f%3A0xde33ca5aa7fb3bc3!2sRestaurante%20Pirago!5e0!3m2!1spt-BR!2sbr!4v1765590827079!5m2!1spt-BR!2sbr" 
                                width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" 
                                referrerpolicy="no-referrer-when-downgrade"
                                class="filter grayscale-[20%] sepia-[10%]">
                            </iframe>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SE√á√ÉO PRESENTES -->
        <section id="tab-gifts" class="hidden-section animate-fade-in">
            <div class="min-h-screen bg-rustic-50 py-10 px-4 md:px-8">
                <div class="max-w-[1600px] mx-auto">
                    <div class="text-center mb-16 space-y-6">
                        <div class="flex justify-center">
                            <div class="p-4 bg-white rounded-full shadow-sm border border-rustic-200">
                                <i data-lucide="gift" class="w-8 h-8 text-sage-600"></i>
                            </div>
                        </div>
                        <h2 class="font-serif text-4xl md:text-5xl text-rustic-800 italic">Lista de Presentes</h2>
                        <div class="w-16 h-px bg-rustic-300 mx-auto"></div>
                        <p class="text-rustic-600 max-w-2xl mx-auto text-lg font-light">
                            O mais importante para n√≥s √© ter voc√™ ao nosso lado nesse dia especial
                            mas se quiser nos ajudar a come√ßar essa nova etapa, deixamos algumas sugest√µes com muito carinho.
                        </p>
                    </div>

                    <!-- Grid de Presentes (Injetado via JS) -->
                    <div id="gift-grid-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 gap-8">
                        <!-- JS content here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- SE√á√ÉO RSVP -->
        <section id="tab-rsvp" class="hidden-section animate-fade-in">
            <div class="min-h-[calc(100vh-96px)] bg-rustic-50 py-10 px-6 flex items-center justify-center relative overflow-hidden">
                <div class="absolute top-0 right-0 w-96 h-96 bg-sage-100 rounded-full mix-blend-multiply filter blur-3xl opacity-40"></div>
                <div class="absolute bottom-0 left-0 w-96 h-96 bg-rustic-200 rounded-full mix-blend-multiply filter blur-3xl opacity-40"></div>

                <div class="max-w-3xl w-full mx-auto relative z-10">
                    <div class="text-center mb-16">
                        <div class="inline-block p-4 bg-white rounded-full shadow-sm mb-6 border border-rustic-200">
                            <i data-lucide="mail" class="w-8 h-8 text-sage-600"></i>
                        </div>
                        <h2 class="font-serif text-4xl md:text-5xl text-rustic-800 mb-6 italic">Confirma√ß√£o de Presen√ßa</h2>
                        <p class="text-rustic-600 font-sans max-w-xl mx-auto text-lg font-light">
                            Sua presen√ßa tornar√° nosso dia ainda mais especial.
                        </p>
                    </div>

                    <div class="bg-white/80 backdrop-blur-md rounded-sm shadow-xl p-8 md:p-12 border border-rustic-200 relative">
                        
                        <!-- Success Message -->
                        <div id="rsvp-success" class="hidden flex-col items-center justify-center text-center py-12 animate-fade-in">
                            <div id="rsvp-icon-box" class="w-20 h-20 rounded-full flex items-center justify-center mb-6 shadow-sm border border-white bg-rustic-100">
                                <i data-lucide="check-circle" class="w-10 h-10 text-rustic-600"></i>
                            </div>
                            <h3 id="rsvp-title" class="font-serif text-3xl text-rustic-800 mb-4">Confirmado com Sucesso</h3>
                            <p id="rsvp-message" class="text-rustic-600 mb-8 max-w-md text-lg">
                                Agradecemos por confirmar. Estamos ansiosos para celebrar com voc√™!
                            </p>
                            <div id="rsvp-warning" class="hidden flex items-center gap-2 text-sm text-rustic-600 bg-rustic-50 px-6 py-3 rounded-full border border-rustic-200">
                                <i data-lucide="alert-circle" class="w-4 h-4"></i>
                                <span>Registro √∫nico por dispositivo.</span>
                            </div>
                        </div>

                        <!-- Form -->
                        <form id="rsvp-form" class="space-y-8">
                            <div class="grid grid-cols-1 gap-8">
                                <!-- <div class="space-y-3">
                                    <label for="name" class="text-xs font-bold text-rustic-500 uppercase tracking-widest flex items-center gap-2">
                                        Nome Completo <span class="text-red-400">*</span>
                                    </label>
                                    <input type="text" id="name" required class="w-full px-4 py-3 bg-rustic-50/50 border border-rustic-300 rounded-sm focus:outline-none focus:ring-1 focus:ring-sage-500 focus:border-sage-500 transition-all text-rustic-800 placeholder-rustic-300 font-serif" placeholder="Ex: Jo√£o da Silva">
                                </div> -->

                                <div class="space-y-3">
                                    <label for="attending" class="text-xs font-bold text-rustic-500 uppercase tracking-widest flex items-center gap-2 justify-center">
                                        Ir√° comparecer?
                                    </label>
                                    <select id="attending" onchange="toggleGuestsField()" class="w-full px-4 py-3 bg-rustic-50/50 border border-rustic-300 rounded-sm focus:outline-none focus:ring-1 focus:ring-sage-500 focus:border-sage-500 transition-all text-rustic-800 font-serif text-center">
                                        <option value="yes">Sim, estarei l√°</option>
                                        <option value="no">Infelizmente n√£o</option>
                                    </select>
                                </div>
                            </div>

                            <div class="pt-6">
                                <button type="submit" id="submit-btn" class="w-full bg-sage-600 text-white py-4 px-6 rounded-sm hover:bg-sage-700 transition-all flex items-center justify-center gap-2 text-sm uppercase tracking-widest font-medium shadow-md hover:shadow-lg disabled:opacity-70 disabled:cursor-not-allowed">
                                    <i class="w-6 h-6">
                                        <svg 
                                            xmlns="http://www.w3.org/2000/svg" 
                                            viewBox="0 0 640 640"
                                            style="fill: #f0ece3;"
                                            >
                                            <!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
                                            <path d="M476.9 161.1C435 119.1 379.2 96 319.9 96C197.5 96 97.9 195.6 97.9 318C97.9 357.1 108.1 395.3 127.5 429L96 544L213.7 513.1C246.1 530.8 282.6 540.1 319.8 540.1L319.9 540.1C442.2 540.1 544 440.5 544 318.1C544 258.8 518.8 203.1 476.9 161.1zM319.9 502.7C286.7 502.7 254.2 493.8 225.9 477L219.2 473L149.4 491.3L168 423.2L163.6 416.2C145.1 386.8 135.4 352.9 135.4 318C135.4 216.3 218.2 133.5 320 133.5C369.3 133.5 415.6 152.7 450.4 187.6C485.2 222.5 506.6 268.8 506.5 318.1C506.5 419.9 421.6 502.7 319.9 502.7zM421.1 364.5C415.6 361.7 388.3 348.3 383.2 346.5C378.1 344.6 374.4 343.7 370.7 349.3C367 354.9 356.4 367.3 353.1 371.1C349.9 374.8 346.6 375.3 341.1 372.5C308.5 356.2 287.1 343.4 265.6 306.5C259.9 296.7 271.3 297.4 281.9 276.2C283.7 272.5 282.8 269.3 281.4 266.5C280 263.7 268.9 236.4 264.3 225.3C259.8 214.5 255.2 216 251.8 215.8C248.6 215.6 244.9 215.6 241.2 215.6C237.5 215.6 231.5 217 226.4 222.5C221.3 228.1 207 241.5 207 268.8C207 296.1 226.9 322.5 229.6 326.2C232.4 329.9 268.7 385.9 324.4 410C359.6 425.2 373.4 426.5 391 423.9C401.7 422.3 423.8 410.5 428.4 397.5C433 384.5 433 373.4 431.6 371.1C430.3 368.6 426.6 367.2 421.1 364.5z"/>
                                        </svg>
                                    </i>
                                    <span>Confirmar</span>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- FOOTER -->
    <footer class="bg-rustic-900 text-rustic-100 py-8 text-center border-t-4 border-sage-500">
        <div class="max-w-4xl mx-auto px-6 space-y-6">
            <h2 class="font-script text-5xl mb-4 text-sage-100">Augusto & Carolini</h2>
            <div class="w-24 h-px bg-sage-500 mx-auto"></div>
            <p class="font-sans text-xs tracking-[0.2em] opacity-80 uppercase text-rustic-300">
                Feito com amor ‚Ä¢ 2026
            </p>
            <p class="text-sm italic font-serif">
                "O amor √© a √∫nica coisa que cresce √† medida que se reparte."
            </p>
        </div>
    </footer>

    <!-- MODAL DE PAGAMENTO -->
    <div id="payment-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-rustic-900/60 backdrop-blur-sm transition-opacity" onclick="closeModal()"></div>
        <div class="relative bg-white rounded-sm shadow-2xl w-full max-w-md overflow-hidden transform transition-all scale-100 border border-rustic-200">
            <div class="bg-rustic-100 p-6 border-b border-rustic-200 flex justify-between items-center">
                <h3 class="font-serif text-2xl text-rustic-800 italic">Presentear os Noivos</h3>
                <button onclick="closeModal()" class="text-rustic-500 hover:text-rustic-800 transition-colors">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>
            </div>

            <div class="p-8 flex flex-col items-center text-center space-y-6">
                <div class="space-y-2">
                    <p class="text-xs font-bold uppercase tracking-widest text-sage-600">Item Selecionado</p>
                    <h4 id="modal-title" class="text-2xl font-serif text-rustic-900">T√≠tulo</h4>
                    <p id="modal-price" class="text-3xl font-bold text-rustic-700 font-serif">R$ 0,00</p>
                </div>

                <div class="w-56 h-56 bg-white border border-rustic-200 p-3 rounded-sm shadow-inner">
                    <div id="modal-qr" class="w-full h-full object-contain"></div>
                </div>
                
                <p class="text-sm text-rustic-500 font-serif italic">
                    Escaneie o QR Code ou use o "Pix Copia e Cola" abaixo.
                </p>
                <input type="hidden" id="modal-pix-key">

                <button onclick="copyPix()" id="copy-btn" class="w-full py-4 px-4 rounded-sm flex items-center justify-center gap-2 font-medium tracking-wide transition-all duration-300 text-sm uppercase bg-rustic-800 text-rustic-50 hover:bg-rustic-700 shadow-md hover:shadow-lg">
                    <i data-lucide="copy" class="w-4 h-4"></i>
                    <span>Copiar C√≥digo Pix</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        let qrcode = null;
        let selectTab = null;

        // Dados
        const TELEFONE = "5548996651185";
        const MENSAGEM_CONFIRMACAO = "Ol√°, Confirmo minha presen√ßa no casamento!";
        const MESSAGE_NEGATIVA = "Ol√°, Infelizmente n√£o poderei comparecer ao casamento, mas desejo toda a felicidade ao casal!";

        const gifts = [
            { 
                name: "Tigrinho, s√≥ que nesse caso s√≥ √© bom para os noivos", 
                image: "public/fortune-tiger.png", 
                price: 500,
                livre: false, 
                aleatorio: true,
                description: "Teste sua sorte pegando um valor aleat√≥rio entre 50 e 500. Aqui quem ganha sempre s√£o os noivos üòÖ"
            },
            { 
                name: "Cota viagem para o Mexico", 
                image: "https://images.unsplash.com/photo-1640130958318-7e9ae39bcf6f", 
                price: 150, 
                livre: false, 
                aleatorio: false,
                description: "Essa contribui√ß√£o vai direto para a lua de mel dos noivos no M√©xico üå¥üá≤üáΩ"
            },
            { 
                name: "Habilita√ß√£o Arrais-Amador e Motonauta", 
                image: "https://images.unsplash.com/photo-1505867798796-639ec7e8cdf5", 
                price: 1100, 
                livre: false, 
                aleatorio: false,
                description: "Um sonho antigo do noivo‚Ä¶ e divers√£o garantida para todo mundo depois üòéüö§"
            },
            { 
                name: "Vinhos para Adega", 
                image: "https://images.unsplash.com/photo-1562601579-599dec564e06", 
                price: 250, 
                livre: false, 
                aleatorio: false,
                description: "Para come√ßar a adega dos sonhos e brindar muitas conquistas üç∑"
            },
            { 
                name: "Passeio de Barco", 
                image: "https://images.unsplash.com/photo-1544620347-c4fd4a3d5957", 
                price: 200, 
                livre: false, 
                aleatorio: false,
                description: "Um passeio inesquec√≠vel para criar mem√≥rias a dois üåä"
            },
            { 
                name: "Di√°ria no Hotel", 
                image: "https://images.unsplash.com/photo-1566073771259-6a8506099945", 
                price: 300, 
                livre: false, 
                aleatorio: false,
                description: "Uma pausa merecida em algum lugar especial üè®‚ú®"
            },
            { 
                name: "Caf√© da Manh√£ na Cama", 
                image: "https://images.unsplash.com/photo-1533090161767-e6ffed986c88", 
                price: 120, 
                livre: false, 
                aleatorio: false,
                description: "Porque acordar bem acompanhado e com caf√© √© outro n√≠vel ‚òï‚ù§Ô∏è"
            },
            { 
                name: "Massagem para Casal", 
                image: "https://images.unsplash.com/photo-1544161515-4ab6ce6db874", 
                price: 250, 
                livre: false, 
                aleatorio: false,
                description: "Relaxar juntos depois da correria do casamento üíÜ‚Äç‚ôÇÔ∏èüíÜ‚Äç‚ôÄÔ∏è"
            },
            { 
                name: "Kit Casa Nova", 
                image: "https://images.unsplash.com/photo-1581539250439-c96689b516dd", 
                price: 300, 
                livre: false, 
                aleatorio: false,
                description: "Ajuda essencial para deixar a casa com cara de lar üè°"
            },
            { 
                name: "Jogo de Panelas", 
                image: "https://images.unsplash.com/photo-1587741011081-d85296fa2b2b", 
                price: 400, 
                livre: false, 
                aleatorio: false,
                description: "Para as receitas que ainda v√£o dar muito certo‚Ä¶ e as que n√£o üòÖüç≥"
            },
            { 
                name: "M√°quina de Caf√©", 
                image: "https://images.unsplash.com/photo-1512568400610-62da28bc8a13", 
                price: 450, 
                livre: false, 
                aleatorio: false,
                description: "Combust√≠vel oficial do casal ‚òï‚ö°"
            },
            { 
                name: "Conjunto de Toalhas", 
                image: "https://images.unsplash.com/photo-1523471826770-c437b4636fe6", 
                price: 180, 
                livre: false, 
                aleatorio: false,
                description: "Toalhas novas para uma nova fase üõÅ"
            },
            { 
                name: "Roupa de Cama", 
                image: "https://images.unsplash.com/photo-1564019472231-4586c552dc27", 
                price: 220, 
                livre: false, 
                aleatorio: false,
                description: "Conforto garantido para boas noites de sono üò¥"
            },
            { 
                name: "Aparelho de Jantar", 
                image: "https://images.unsplash.com/photo-1620706857370-e1b9770e8bb1", 
                price: 350, 
                livre: false, 
                aleatorio: false,
                description: "Para receber amigos e fam√≠lia em grande estilo üçΩÔ∏è"
            },
            { 
                name: "Faqueiro Inox", 
                image: "https://images.unsplash.com/photo-1584269600519-112d071b35e6", 
                price: 200, 
                livre: false, 
                aleatorio: false,
                description: "Porque comer bem come√ßa pelos detalhes ‚ú®"
            },
            { 
                name: "Aspirador Rob√¥", 
                image: "https://plus.unsplash.com/premium_photo-1729006559482-d289e4385b1e", 
                price: 600, 
                livre: false, 
                aleatorio: false,
                description: "Menos limpeza, mais tempo juntos ü§ñ"
            },
            { 
                name: "Kit Churrasco", 
                image: "https://images.unsplash.com/photo-1504564321107-4aa3efddb5bd", 
                price: 350, 
                livre: false, 
                aleatorio: false,
                description: "Churrasco liberado na casa nova üî•ü•©"
            },
            { 
                name: "Adega de Vinhos", 
                image: "https://images.unsplash.com/photo-1506377247377-2a5b3b417ebb", 
                price: 700, 
                livre: false, 
                aleatorio: false,
                description: "Para guardar vinhos‚Ä¶ se resistirem a beber antes üç∑"
            },
            { 
                name: "Decora√ß√£o para Sala", 
                image: "https://images.unsplash.com/photo-1513519245088-0e12902e5a38", 
                price: 250, 
                livre: false, 
                aleatorio: false,
                description: "Deixar o cantinho do casal com a cara deles üñºÔ∏è"
            },
            { 
                name: "Quadros Decorativos", 
                image: "https://images.unsplash.com/photo-1579762715118-a6f1d4b934f1", 
                price: 180, 
                livre: false, 
                aleatorio: false,
                description: "Detalhes que contam hist√≥rias üé®"
            },
            { 
                name: "Tapete para Sala", 
                image: "public/home.jpeg", 
                price: 300, 
                livre: false, 
                aleatorio: false,
                description: "Conforto e estilo para o dia a dia üè°"
            },
            { 
                name: "Almofadas Personalizadas", 
                image: "public/almofada.jpeg", 
                price: 150, 
                livre: false, 
                aleatorio: false,
                description: "Porque at√© o sof√° merece carinho üõãÔ∏è"
            },
            { 
                name: "Contribui√ß√£o Livre", 
                image: "https://images.unsplash.com/photo-1526304640581-d334cdbbf45e", 
                price: 100, 
                livre: true, 
                aleatorio: false,
                description: "Contribua com o valor que fizer sentido para voc√™ üíñ"
            }
        ];

        
        // --- Navega√ß√£o ---
        function switchTab(tabId) {
            if(!tabId || tabId === selectTab) return;
            if(tabId === 'locations' && selectTab !== 'locations') {
                // volta para a home e scrolla para a se√ß√£o de locations
                switchTab('home');
                setTimeout(() => {
                    const locSection = document.getElementById('locations');
                    if(locSection) {
                        locSection.scrollIntoView({ behavior: 'smooth' });
                    }
                }, 300);
                selectTab = 'locations';
                return;
            }

            ['home', 'gifts', 'rsvp'].forEach(t => {
                document.getElementById('tab-'+t).style.display = (t === tabId) ? 'block' : 'none';
                
                const btn = document.getElementById('btn-'+t);
                const icon = btn.querySelector('i');
                if(t === tabId) {
                    btn.className = "nav-btn flex items-center gap-2 px-4 md:px-6 py-2 rounded-md transition-all duration-500 border bg-sage-600 text-white font-medium border-sage-600 shadow-sm";
                    if(tabId === 'home' && icon && icon.classList) {
                        icon.classList.add('fill-current');
                    }
                } else {
                    btn.className = "nav-btn flex items-center gap-2 px-4 md:px-6 py-2 rounded-md transition-all duration-500 border text-rustic-600 border-transparent hover:text-sage-700 hover:bg-rustic-100";
                    if(tabId === 'home' && icon && icon.classList) {
                        icon.classList.remove('fill-current');
                    }
                }
            });
            lucide.createIcons();
            window.scrollTo(0,0);
            selectTab = tabId;
        }

        // --- Renderizar Presentes ---
        function renderGifts() {
            const container = document.getElementById('gift-grid-container');
            let html = '';
            for(let i=0; i < gifts.length; i++) {
                const title = gifts[i].name || `Presente ${i+1}`;
                const price = gifts[i].aleatorio ? Math.floor(Math.random() * (500 - 50 + 1) + 50) : gifts[i].price;
                const img = (gifts[i].image || "https://images.unsplash.com/photo-1513885535751-8b9238bd345a") + "?q=80&w=400&h=300&auto=format&fit=crop";
                const description = gifts[i].description || "Ajude os noivos a realizarem este sonho.";
                const aleatorio = gifts[i].aleatorio;

                html += `
                <div class="bg-white rounded-sm shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden group flex flex-col h-full border border-rustic-100">
                    <div class="relative overflow-hidden aspect-[4/3]">
                        <img src="${img}" alt="${title}" class="w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700 filter sepia-[10%]">
                        <div class="absolute inset-0 bg-sage-900/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                            <div class="bg-white/90 backdrop-blur-sm px-4 py-2 rounded-sm transform translate-y-4 group-hover:translate-y-0 transition-transform">
                                <p class="text-rustic-800 text-sm font-serif italic flex items-center gap-2">
                                    <i data-lucide="heart" class="w-4 h-4 text-sage-600"></i> Presentear
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="p-6 flex flex-col flex-grow text-center">
                        <h3 class="font-serif text-xl text-rustic-800 mb-2 break-words">${title}</h3>
                        <p class="text-xs text-rustic-500 mb-6 line-clamp-2 min-h-[2.5em] tracking-wide">${description}</p>
                        <div class="mt-auto space-y-4 pt-4 border-t border-rustic-50">
                            <p class="text-2xl font-medium text-sage-700 font-serif ${aleatorio ? "hidden" : ""}">R$ ${price.toFixed(2).replace('.', ',')}</p>
                            <button onclick="openModal('${title}', ${price}, ${aleatorio})" class="w-full bg-rustic-700 text-rustic-50 py-3 px-4 rounded-sm hover:bg-sage-600 transition-all shadow-sm hover:shadow-md flex items-center justify-center gap-2 text-xs uppercase tracking-[0.1em] font-medium">
                                <i data-lucide="shopping-bag" class="w-4 h-4"></i> Presentear
                            </button>
                        </div>
                    </div>
                </div>`;
            }
            container.innerHTML = html;
        }

        // --- Modal ---
        function openModal(title, price, aleatorio) {
            if(aleatorio) {
                price = Math.floor(Math.random() * (500 - 50 + 1)) + 50
            }
            let PIX_KEY = gerarPix(price);
            
            document.getElementById('modal-title').innerText = title;
            document.getElementById('modal-price').innerText = `R$ ${price.toFixed(2).replace('.', ',')}`;
            document.getElementById('modal-pix-key').value = PIX_KEY;
            if(qrcode) {
                qrcode.makeCode(PIX_KEY);
            } else {
                qrcode = new QRCode(document.getElementById("modal-qr"), {
                    text: PIX_KEY,
                    width: 200,
                    height: 200
                });
            }
            // document.getElementById('modal-qr').src = qrcode
            
            document.getElementById('payment-modal').classList.remove('hidden');
            lucide.createIcons();

            gerarConfetti()
        }

        function gerarConfetti() {
            confetti({
                particleCount: 400,
                spread: 100,
                scalar: 2,
                origin: { y: 0.6 }
            });
        }

        function closeModal() {
            document.getElementById('payment-modal').classList.add('hidden');
            // Reset button style
            const btn = document.getElementById('copy-btn');
            btn.className = "w-full py-4 px-4 rounded-sm flex items-center justify-center gap-2 font-medium tracking-wide transition-all duration-300 text-sm uppercase bg-rustic-800 text-rustic-50 hover:bg-rustic-700 shadow-md hover:shadow-lg";
            btn.innerHTML = `<i data-lucide="copy" class="w-4 h-4"></i><span>Copiar C√≥digo Pix</span>`;
            lucide.createIcons();
        }

        function copyPix() {
            const key = document.getElementById('modal-pix-key').value;
            navigator.clipboard.writeText(key).then(() => {
                const btn = document.getElementById('copy-btn');
                btn.className = "w-full py-4 px-4 rounded-sm flex items-center justify-center gap-2 font-medium tracking-wide transition-all duration-300 text-sm uppercase bg-sage-100 text-sage-800 border border-sage-200";
                btn.innerHTML = `<i data-lucide="check" class="w-4 h-4"></i><span>C√≥digo Copiado!</span>`;
                lucide.createIcons();
            });
        }

        // --- RSVP ---
        function toggleGuestsField() {
            const val = document.getElementById('attending').value;
            const container = document.getElementById('guests-container');
            container.style.display = (val === 'yes') ? 'block' : 'none';
        }

        function checkRSVP() {
            if(localStorage.getItem('wedding_rsvp_completed')) {
                showRSVPSuccess(true);
            }
        }

        function showRSVPSuccess(already) {
            document.getElementById('rsvp-form').classList.add('hidden');
            const box = document.getElementById('rsvp-success');
            box.classList.remove('hidden');
            box.classList.add('flex');
            
            if(already) {
                document.getElementById('rsvp-title').innerText = "Presen√ßa J√° Confirmada";
                document.getElementById('rsvp-message').innerText = "Voc√™ j√° confirmou sua presen√ßa anteriormente. Nos vemos l√°!";
                document.getElementById('rsvp-warning').classList.remove('hidden');
                
                const iconBox = document.getElementById('rsvp-icon-box');
                iconBox.className = "w-20 h-20 rounded-full flex items-center justify-center mb-6 shadow-sm border border-white bg-sage-100";
                iconBox.innerHTML = `<i data-lucide="check-circle" class="w-10 h-10 text-sage-600"></i>`;
            }
            lucide.createIcons();
        }

        function ConfirmarWhatsApp(presenca) {
            const isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
            const texto = encodeURIComponent(presenca === 'yes' ? MENSAGEM_CONFIRMACAO : MESSAGE_NEGATIVA);
            const url = isMobile
            ? `https://wa.me/${TELEFONE}?text=${texto}`
            : `https://web.whatsapp.com/send?phone=${TELEFONE}&text=${texto}`;

            window.open(url, "_blank");
        }

        function crc16(payload) {
            let polinomio = 0x1021;
            let resultado = 0xFFFF;

            for (let i = 0; i < payload.length; i++) {
                resultado ^= payload.charCodeAt(i) << 8;
                for (let j = 0; j < 8; j++) {
                    resultado = (resultado & 0x8000)
                        ? (resultado << 1) ^ polinomio
                        : resultado << 1;
                }
            }

            return (resultado & 0xFFFF).toString(16).toUpperCase().padStart(4, '0');
        }

        function campo(id, valor) {
            return id + valor.length.toString().padStart(2, '0') + valor;
        }

        function gerarPix(price) {
            const chavePix = "de8bf5e6-c3b0-4f5c-8b9c-902e4e57af58";
            const nome = "CAROLINI DOMINGOS";
            const cidade = "SAO PAULO";
            const valor = price.toFixed(2);

            let payload =
                campo("00", "01") +
                campo("26",
                    campo("00", "BR.GOV.BCB.PIX") +
                    campo("01", chavePix)
                ) +
                campo("52", "0000") +
                campo("53", "986") +
                campo("54", valor) +
                campo("58", "BR") +
                campo("59", nome.substring(0, 25)) +
                campo("60", cidade.substring(0, 15)) +
                campo("62",
                    campo("05", "***")
                ) +
                "6304";

            payload += crc16(payload);

            return payload;
        }

        // --- Form Submission ---
        document.getElementById('rsvp-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const btn = document.getElementById('submit-btn');
            btn.disabled = true;
            btn.innerHTML = `<span class="w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"></span> Acessando...`;
            
            const val = document.getElementById('attending').value;
            ConfirmarWhatsApp(val);

            setTimeout(() => {
                localStorage.setItem('wedding_rsvp_completed', 'true');
                showRSVPSuccess(false);
            }, 1500);
        });

        // --- Init ---
        window.addEventListener('DOMContentLoaded', () => {
            renderGifts();
            checkRSVP();
            lucide.createIcons();
        });
    </script>
</body>
</html>
